import json
import pprint

cli_output_raw = b'{"exception":{"message":"org.signal.libsignal.protocol.InvalidMessageException: invalid Whisper message: decryption failed","type":"ProtocolInvalidMessageException"},"envelope":{"source":"+49777777","sourceNumber":"+49777777","sourceUuid":"eeeeeeeeeeeeeeeeeeeeeeeee","sourceName":"PersonZ","sourceDevice":1,"timestamp":1688715902653},"account":"+49666666"}\n{"exception":{"message":"org.signal.libsignal.protocol.NoSessionException: missing sender key state for distribution ID aaaaaaaaa-bbbb-dddd-eeee-fffffffffffff","type":"ProtocolNoSessionException"},"envelope":{"source":"+49777777","sourceNumber":"+49777777","sourceUuid":"eeeeeeeeeeeeeeeeeeeeeeeee","sourceName":"PersonZ","sourceDevice":1,"timestamp":1688715902562},"account":"+49666666"}\n{"exception":{"message":"org.signal.libsignal.protocol.NoSessionException: missing sender key state for distribution ID aaaaaaaaa-bbbb-dddd-eeee-fffffffffffff","type":"ProtocolNoSessionException"},"envelope":{"source":"+49777777","sourceNumber":"+49777777","sourceUuid":"eeeeeeeeeeeeeeeeeeeeeeeee","sourceName":"PersonZ","sourceDevice":1,"timestamp":1688716329971},"account":"+49666666"}\n{"exception":{"message":"org.signal.libsignal.protocol.NoSessionException: missing sender key state for distribution ID aaaaaaaaa-bbbb-dddd-eeee-fffffffffffff","type":"ProtocolNoSessionException"},"envelope":{"source":"+49777777","sourceNumber":"+49777777","sourceUuid":"eeeeeeeeeeeeeeeeeeeeeeeee","sourceName":"PersonZ","sourceDevice":1,"timestamp":1688716334898},"account":"+49666666"}\n{"envelope":{"source":"+49111111","sourceNumber":"+49111111","sourceUuid":"eeeeeeeeeeeeeeeeeeeeeeeee","sourceName":"","sourceDevice":1,"timestamp":1688716417452},"account":"+49666666"}\n{"envelope":{"source":"+49111111","sourceNumber":"+49111111","sourceUuid":null,"sourceName":"PersonY","sourceDevice":1,"timestamp":1688716417418,"dataMessage":{"timestamp":1688716417418,"message":null,"expiresInSeconds":0,"viewOnce":false,"reaction":{"emoji":"\xe2\x9d\xa4\xef\xb8\x8f","targetAuthor":"+49777777","targetAuthorNumber":"+49777777","targetAuthorUuid":"eeeeeeeeeeeeeeeeeeeeeeeee","targetSentTimestamp":1688716329971,"isRemove":false},"groupInfo":{"groupId":"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQR","type":"DELIVER"}}},"account":"+49666666"}\n{"envelope":{"source":"+49111111","sourceNumber":null,"sourceUuid":"eeeeeeeeeeeeeeeeeeeeeeeee","sourceName":"PersonY","sourceDevice":1,"timestamp":1688716423707,"dataMessage":{"timestamp":1688716423707,"message":"Test3","expiresInSeconds":0,"viewOnce":false,"groupInfo":{"groupId":"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGH","type":"DELIVER"}}},"account":"+49666666"}\n{"envelope":{"source":"+49111111","sourceNumber":"+49111111","sourceUuid":"eeeeeeeeeeeeeeeeeeeeeeeee","sourceName":"PersonY","sourceDevice":1,"timestamp":1688716473036,"dataMessage":{"timestamp":1688716473036,"message":"Test \xf0\x9f\x98\xb1","expiresInSeconds":0,"viewOnce":false,"groupInfo":{"groupId":"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGH","type":"DELIVER"}}},"account":"+49666666"}\n{"envelope":{"source":"+49111111","sourceNumber":"+49111111","sourceUuid":"abcdefa0123456-b123-c123-d1234567890","sourceName":"PersonY","sourceDevice":1,"timestamp":1688716487823,"dataMessage":{"timestamp":1688716487823,"message":"Test2 \xf0\x9f\x98\xad","expiresInSeconds":0,"viewOnce":false,"groupInfo":{"groupId":"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGH","type":"DELIVER"}}},"account":"+49666666"}\n{"envelope":{"source":"+49222222","sourceNumber":"+49222222","sourceUuid":"ddddddddddddddddddddddddd","sourceName":"PersonW","sourceDevice":1,"timestamp":1688716675238},"account":"+49666666"}\n{"envelope":{"source":"+49222222","sourceNumber":"+49222222","sourceUuid":"ddddddddddddddddddddddddd","sourceName":"PersonW","sourceDevice":1,"timestamp":1688716675212,"dataMessage":{"timestamp":1688716675212,"message":null,"expiresInSeconds":0,"viewOnce":false,"reaction":{"emoji":"\xf0\x9f\x8d\x8b","targetAuthor":"+49777777","targetAuthorNumber":"+49777777","targetAuthorUuid":"eeeeeeeeeeeeeeeeeeeeeeeee","targetSentTimestamp":1688716329971,"isRemove":false},"groupInfo":{"groupId":"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGH","type":"DELIVER"}}},"account":"+49666666"}\n{"exception":{"message":"org.signal.libsignal.protocol.InvalidMessageException: invalid Whisper message: decryption failed","type":"ProtocolInvalidMessageException"},"envelope":{"source":"+49777777","sourceNumber":"+49777777","sourceUuid":"eeeeeeeeeeeeeeeeeeeeeeeee","sourceName":"PersonZ","sourceDevice":1,"timestamp":1688717127021},"account":"+49666666"}\n{"envelope":{"source":"+49333333","sourceNumber":"+49333333","sourceUuid":"gggggggggggggggg","sourceName":"PersonX","sourceDevice":1,"timestamp":1688718840899},"account":"+49666666"}\n{"envelope":{"source":"+49333333","sourceNumber":"+49333333","sourceUuid":"ffffffffffffffffffffffffff","sourceName":"PersonX","sourceDevice":1,"timestamp":1688718840860,"dataMessage":{"timestamp":1688718840860,"message":null,"expiresInSeconds":0,"viewOnce":false,"reaction":{"emoji":"\xf0\x9f\x90\xb7","targetAuthor":"+49777777","targetAuthorNumber":"+49777777","targetAuthorUuid":"eeeeeeeeeeeeeeeeeeeeeeeee","targetSentTimestamp":1688716329971,"isRemove":false},"groupInfo":{"groupId":"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGH","type":"DELIVER"}}},"account":"+49666666"}\n{"envelope":{"source":"+49777777","sourceNumber":"+49777777","sourceUuid":"eeeeeeeeeeeeeeeeeeeeeeeee","sourceName":"PersonZ","sourceDevice":2,"timestamp":1688742654477,"receiptMessage":{"when":1688742654477,"isDelivery":true,"isRead":false,"isViewed":false,"timestamps":[1688667282903,1688667291414,1688667297866,1688667305616,1688667312991,1688667320160,1688667328640,1688667337207,1688667345290,1688667354241,1688667360819,1688667424257,1688667998852,1688668005705,1688676354600,1688676363130,1688677571654,1688677581009]}},"account":"+49666666"}\n{"envelope":{"source":"+49777777","sourceNumber":"+49777777","sourceUuid":"eeeeeeeeeeeeeeeeeeeeeeeee","sourceName":"PersonZ","sourceDevice":2,"timestamp":1688742654477,"receiptMessage":{"when":1688742654477,"isDelivery":true,"isRead":false,"isViewed":false,"timestamps":[1688668942618,1688669027042,1688676318930,1688676325373,1688677518225,1688677524837,1688677531468,1688677538217,1688677545107,1688677817899,1688677824560]}},"account":"+49666666"}\n'
cli_output_list = [j.strip() for j in cli_output_raw.decode('utf-8').split('\n')]
cli_output_json = [json.loads(j) for j in cli_output_list if j != ""]
pprint.pprint(cli_output_json)
